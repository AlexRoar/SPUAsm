\hypertarget{SPUDisAssembly_8cpp}{}\doxysection{Soft\+Processor\+Unit/\+Disassembly/\+S\+P\+U\+Dis\+Assembly.cpp File Reference}
\label{SPUDisAssembly_8cpp}\index{SoftProcessorUnit/Disassembly/SPUDisAssembly.cpp@{SoftProcessorUnit/Disassembly/SPUDisAssembly.cpp}}
{\ttfamily \#include $<$cstdio$>$}\newline
{\ttfamily \#include \char`\"{}Assembly\+Helpers.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Dis\+Assembly\+D\+Types.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Dis\+Assembly\+Helpers.\+hpp\char`\"{}}\newline
Include dependency graph for S\+P\+U\+Dis\+Assembly.\+cpp\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{SPUDisAssembly_8cpp__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{CMakeCache_8txt_a1cb0c2afe2f6ed3001e79e875440ed60}{int}} \mbox{\hyperlink{SPUDisAssembly_8cpp_a217dbf8b442f20279ea00b898af96f52}{main}} (\mbox{\hyperlink{CMakeCache_8txt_a1cb0c2afe2f6ed3001e79e875440ed60}{int}} argc, const \mbox{\hyperlink{CMakeCache_8txt_afe71f11dacb15682cdc012f7208e6e09}{char}} $\ast$$\ast$argv)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{SPUDisAssembly_8cpp_a217dbf8b442f20279ea00b898af96f52}\label{SPUDisAssembly_8cpp_a217dbf8b442f20279ea00b898af96f52}} 
\index{SPUDisAssembly.cpp@{SPUDisAssembly.cpp}!main@{main}}
\index{main@{main}!SPUDisAssembly.cpp@{SPUDisAssembly.cpp}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily \mbox{\hyperlink{CMakeCache_8txt_a1cb0c2afe2f6ed3001e79e875440ed60}{int}} main (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{CMakeCache_8txt_a1cb0c2afe2f6ed3001e79e875440ed60}{int}}}]{argc,  }\item[{const \mbox{\hyperlink{CMakeCache_8txt_afe71f11dacb15682cdc012f7208e6e09}{char}} $\ast$$\ast$}]{argv }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{14                                       \{}
\DoxyCodeLine{15     \mbox{\hyperlink{AssemblyDTypes_8hpp_structBinaryFile}{BinaryFile}}* binary = \mbox{\hyperlink{AssemblyHelpers_8cpp_ad7b5ac9bb1240c1f507b4564bc0778fc}{NewBinaryFile}}();}
\DoxyCodeLine{16     \mbox{\hyperlink{DisAssemblyDTypes_8hpp_structDisassemblyParams}{DisassemblyParams}} parameters = \{\};}
\DoxyCodeLine{17     }
\DoxyCodeLine{18     \textcolor{keywordtype}{int} parsingResult = \mbox{\hyperlink{AssemblyHelpers_8cpp_a6c4bb8a89afb60b2164c352fec284d61}{parseArgs}}(argc, argv, \&parameters);}
\DoxyCodeLine{19     }
\DoxyCodeLine{20     \textcolor{keywordflow}{if} (parsingResult != EXIT\_SUCCESS) \{}
\DoxyCodeLine{21         printf(\textcolor{stringliteral}{"{}error: disassembly: process finished with EXIT\_FAILURE code\(\backslash\)n"{}});}
\DoxyCodeLine{22         \textcolor{keywordflow}{return} EXIT\_FAILURE;}
\DoxyCodeLine{23     \}}
\DoxyCodeLine{24     }
\DoxyCodeLine{25     \mbox{\hyperlink{AssemblyDTypes_8hpp_adf5ef888dd0695e3b3dcdf5230a5f008}{BinFileLoadResult}} \mbox{\hyperlink{EXE_8h_a648bf88b6941d0a6f80ee99e8821a527}{result}} = \mbox{\hyperlink{AssemblyHelpers_8cpp_a32a156cf9ee4f509e1997eeaf0c28ec7}{loadBinFile}}(binary, parameters.\mbox{\hyperlink{DisAssemblyDTypes_8hpp_aa7ea61367548771299ea35cfbf0754d7}{inputFile}});}
\DoxyCodeLine{26     }
\DoxyCodeLine{27     \textcolor{keywordflow}{if} (\mbox{\hyperlink{EXE_8h_a648bf88b6941d0a6f80ee99e8821a527}{result}} != \mbox{\hyperlink{AssemblyDTypes_8hpp_adf5ef888dd0695e3b3dcdf5230a5f008a08c10477e506f1afa81064a9d3873f93}{SPU\_BINLOAD\_OK}}) \{}
\DoxyCodeLine{28         \textcolor{keywordflow}{switch} (\mbox{\hyperlink{EXE_8h_a648bf88b6941d0a6f80ee99e8821a527}{result}}) \{}
\DoxyCodeLine{29             \textcolor{keywordflow}{case} \mbox{\hyperlink{AssemblyDTypes_8hpp_adf5ef888dd0695e3b3dcdf5230a5f008a4cfa2bce094c4d9ccb40e2cc73c2dc3d}{SPU\_BINLOAD\_WRONG\_VERSION}}:}
\DoxyCodeLine{30                 printf(\textcolor{stringliteral}{"{}error: disassembly: binary version is not aligned with current build\(\backslash\)n"{}});}
\DoxyCodeLine{31                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{32                 }
\DoxyCodeLine{33             \textcolor{keywordflow}{case} \mbox{\hyperlink{AssemblyDTypes_8hpp_adf5ef888dd0695e3b3dcdf5230a5f008a24f4dd92ab09d28ecd543638f37dd0a7}{SPU\_BINLOAD\_CORRUPTED}}:}
\DoxyCodeLine{34                 printf(\textcolor{stringliteral}{"{}error: disassembly: file structure corrupted\(\backslash\)n"{}});}
\DoxyCodeLine{35                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{36             \textcolor{keywordflow}{case} \mbox{\hyperlink{AssemblyDTypes_8hpp_adf5ef888dd0695e3b3dcdf5230a5f008aac42aad69374deaeea0fdbaa39d45f05}{SPU\_BINLOAD\_WRONG\_SIGNATURE}}:}
\DoxyCodeLine{37                 printf(\textcolor{stringliteral}{"{}error: disassembly: file signature is wrong\(\backslash\)n"{}});}
\DoxyCodeLine{38                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{39             \textcolor{keywordflow}{case} \mbox{\hyperlink{AssemblyDTypes_8hpp_adf5ef888dd0695e3b3dcdf5230a5f008a08c10477e506f1afa81064a9d3873f93}{SPU\_BINLOAD\_OK}}:}
\DoxyCodeLine{40                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{41         \}}
\DoxyCodeLine{42         \mbox{\hyperlink{AssemblyHelpers_8cpp_a8384d0729973f2658ba4e29f66c9a7c7}{DestructBinaryFile}}(binary);}
\DoxyCodeLine{43         \mbox{\hyperlink{DisAssemblyHelpers_8cpp_afdf4987b03f2d17e9c945165e27d2c27}{DestructDisAssemblyParams}}(\&parameters);}
\DoxyCodeLine{44         \textcolor{keywordflow}{return} EXIT\_FAILURE;}
\DoxyCodeLine{45     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{46         \textcolor{keywordflow}{if} (parameters.\mbox{\hyperlink{DisAssemblyDTypes_8hpp_ada63b720c3b6ff9803a16f6cefbd493b}{verbose}}) \{}
\DoxyCodeLine{47             \textcolor{keywordtype}{char}* SPUAssemblyVersion\_chars = (\textcolor{keywordtype}{char}*)\&(binary-\/>\mbox{\hyperlink{AssemblyDTypes_8hpp_a03b95b685119e52b8af067fbb0a92598}{version}});}
\DoxyCodeLine{48             printf(\textcolor{stringliteral}{"{}info: disassembly: successfully loaded file\(\backslash\)n"{}});}
\DoxyCodeLine{49             printf(\textcolor{stringliteral}{"{}info: disassembly: specified version v\%c.\%c.\%c\%c\(\backslash\)n"{}},}
\DoxyCodeLine{50                    SPUAssemblyVersion\_chars[0],}
\DoxyCodeLine{51                    SPUAssemblyVersion\_chars[1],}
\DoxyCodeLine{52                    SPUAssemblyVersion\_chars[2],}
\DoxyCodeLine{53                    SPUAssemblyVersion\_chars[3]);}
\DoxyCodeLine{54             }
\DoxyCodeLine{55             printf(\textcolor{stringliteral}{"{}info: Scanned code:\(\backslash\)n"{}});}
\DoxyCodeLine{56             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{CMakeCache_8txt_a7e98b8a17c0aad30ba64d47b74e2a6c1}{i}} = 0; \mbox{\hyperlink{CMakeCache_8txt_a7e98b8a17c0aad30ba64d47b74e2a6c1}{i}} < binary-\/>\mbox{\hyperlink{AssemblyDTypes_8hpp_a3e976fdc373fa869cdc9bc127239ac97}{currentSize}}; \mbox{\hyperlink{CMakeCache_8txt_a7e98b8a17c0aad30ba64d47b74e2a6c1}{i}}++) \{}
\DoxyCodeLine{57                 printf(\textcolor{stringliteral}{"{}\%d "{}}, (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char})binary-\/>\mbox{\hyperlink{AssemblyDTypes_8hpp_a5a2cf3ef6bbd4fa8beb8f39b1c383c92}{code}}[\mbox{\hyperlink{CMakeCache_8txt_a7e98b8a17c0aad30ba64d47b74e2a6c1}{i}}]);}
\DoxyCodeLine{58             \}}
\DoxyCodeLine{59             printf(\textcolor{stringliteral}{"{}\(\backslash\)n"{}});}
\DoxyCodeLine{60         \}}
\DoxyCodeLine{61     \}}
\DoxyCodeLine{62     }
\DoxyCodeLine{63     \mbox{\hyperlink{Syntax_8hpp_structSyntaxMapping}{SyntaxMapping}} syntax = \mbox{\hyperlink{Syntax_8cpp_ad8883fa3c572ab45fa3459a378708afd}{getSyntaxMapping}}();}
\DoxyCodeLine{64     }
\DoxyCodeLine{65     \mbox{\hyperlink{DisAssemblyDTypes_8hpp_a036295b5e6cf46921aa175807d40fefd}{DisassemblyParseResult}} res = \mbox{\hyperlink{DisAssemblyHelpers_8cpp_a15d65bc1e9322ce2e2d14bd3ccdacf01}{disAssamblyCode}}(\&parameters, \&syntax, binary);}
\DoxyCodeLine{66     \textcolor{keywordflow}{if} (res != \mbox{\hyperlink{DisAssemblyDTypes_8hpp_a036295b5e6cf46921aa175807d40fefda9e0876ec84fe99948945c4cddfbe1b35}{SPU\_DISASM\_OK}})\{}
\DoxyCodeLine{67         printf(\textcolor{stringliteral}{"{}error: disassembly: disassambly terminated with code "{}});}
\DoxyCodeLine{68         \textcolor{keywordflow}{switch} (res) \{}
\DoxyCodeLine{69             \textcolor{keywordflow}{case} \mbox{\hyperlink{DisAssemblyDTypes_8hpp_a036295b5e6cf46921aa175807d40fefda9e0876ec84fe99948945c4cddfbe1b35}{SPU\_DISASM\_OK}}:}
\DoxyCodeLine{70                 printf(\textcolor{stringliteral}{"{}SPU\_DISASM\_OK\(\backslash\)n"{}});}
\DoxyCodeLine{71                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{72             \textcolor{keywordflow}{case} \mbox{\hyperlink{DisAssemblyDTypes_8hpp_a036295b5e6cf46921aa175807d40fefda100d5684dfab0597dda42ca7ecd3d28c}{SPU\_DISASM\_UNKNOWN\_CMD}}:}
\DoxyCodeLine{73                 printf(\textcolor{stringliteral}{"{}SPU\_DISASM\_UNKNOWN\_CMD\(\backslash\)n"{}});}
\DoxyCodeLine{74                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{75             \textcolor{keywordflow}{case} \mbox{\hyperlink{DisAssemblyDTypes_8hpp_a036295b5e6cf46921aa175807d40fefdafaea22a9b856bcfe0ebb1485926adb06}{SPU\_DISASM\_WRONG\_CMDFORMAT}}:}
\DoxyCodeLine{76                 printf(\textcolor{stringliteral}{"{}SPU\_DISASM\_WRONG\_CMDFORMAT\(\backslash\)n"{}});}
\DoxyCodeLine{77                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{78             \textcolor{keywordflow}{case} \mbox{\hyperlink{DisAssemblyDTypes_8hpp_a036295b5e6cf46921aa175807d40fefda341fbd652adad254ad86fa76b5b132ee}{SPU\_DISASM\_NOTENOUGHARGS}}:}
\DoxyCodeLine{79                 printf(\textcolor{stringliteral}{"{}SPU\_DISASM\_NOTENOUGHARGS\(\backslash\)n"{}});}
\DoxyCodeLine{80                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{81         \}}
\DoxyCodeLine{82         \mbox{\hyperlink{AssemblyHelpers_8cpp_a8384d0729973f2658ba4e29f66c9a7c7}{DestructBinaryFile}}(binary);}
\DoxyCodeLine{83         \mbox{\hyperlink{DisAssemblyHelpers_8cpp_afdf4987b03f2d17e9c945165e27d2c27}{DestructDisAssemblyParams}}(\&parameters);}
\DoxyCodeLine{84         \textcolor{keywordflow}{return} EXIT\_FAILURE;}
\DoxyCodeLine{85     \}}
\DoxyCodeLine{86 }
\DoxyCodeLine{87     \mbox{\hyperlink{AssemblyHelpers_8cpp_a8384d0729973f2658ba4e29f66c9a7c7}{DestructBinaryFile}}(binary);}
\DoxyCodeLine{88     \mbox{\hyperlink{DisAssemblyHelpers_8cpp_afdf4987b03f2d17e9c945165e27d2c27}{DestructDisAssemblyParams}}(\&parameters);}
\DoxyCodeLine{89     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{90 \}}

\end{DoxyCode}


References Binary\+File\+::code, Binary\+File\+::current\+Size, Destruct\+Binary\+File(), Destruct\+Dis\+Assembly\+Params(), dis\+Assambly\+Code(), get\+Syntax\+Mapping(), i, Disassembly\+Params\+::input\+File, load\+Bin\+File(), New\+Binary\+File(), parse\+Args(), result, S\+P\+U\+\_\+\+B\+I\+N\+L\+O\+A\+D\+\_\+\+C\+O\+R\+R\+U\+P\+T\+ED, S\+P\+U\+\_\+\+B\+I\+N\+L\+O\+A\+D\+\_\+\+OK, S\+P\+U\+\_\+\+B\+I\+N\+L\+O\+A\+D\+\_\+\+W\+R\+O\+N\+G\+\_\+\+S\+I\+G\+N\+A\+T\+U\+RE, S\+P\+U\+\_\+\+B\+I\+N\+L\+O\+A\+D\+\_\+\+W\+R\+O\+N\+G\+\_\+\+V\+E\+R\+S\+I\+ON, S\+P\+U\+\_\+\+D\+I\+S\+A\+S\+M\+\_\+\+N\+O\+T\+E\+N\+O\+U\+G\+H\+A\+R\+GS, S\+P\+U\+\_\+\+D\+I\+S\+A\+S\+M\+\_\+\+OK, S\+P\+U\+\_\+\+D\+I\+S\+A\+S\+M\+\_\+\+U\+N\+K\+N\+O\+W\+N\+\_\+\+C\+MD, S\+P\+U\+\_\+\+D\+I\+S\+A\+S\+M\+\_\+\+W\+R\+O\+N\+G\+\_\+\+C\+M\+D\+F\+O\+R\+M\+AT, Disassembly\+Params\+::verbose, and Binary\+File\+::version.

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{SPUDisAssembly_8cpp_a217dbf8b442f20279ea00b898af96f52_cgraph}
\end{center}
\end{figure}
