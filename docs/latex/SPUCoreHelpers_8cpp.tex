\hypertarget{SPUCoreHelpers_8cpp}{}\doxysection{Soft\+Processor\+Unit/\+S\+P\+U/\+Core/\+S\+P\+U\+Core\+Helpers.cpp File Reference}
\label{SPUCoreHelpers_8cpp}\index{SoftProcessorUnit/SPU/Core/SPUCoreHelpers.cpp@{SoftProcessorUnit/SPU/Core/SPUCoreHelpers.cpp}}
{\ttfamily \#include \char`\"{}S\+P\+U\+Core\+Helpers.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}S\+P\+U\+Version.\+hpp\char`\"{}}\newline
{\ttfamily \#include $<$cstring$>$}\newline
Include dependency graph for S\+P\+U\+Core\+Helpers.\+cpp\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{SPUCoreHelpers_8cpp__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{SPUCoreHelpers_8cpp_aaad251afe9f24c4d0160d66b4011d64d}{Destruct\+S\+P\+U\+Args}} (\mbox{\hyperlink{SPUDtypes_8hpp_structRunParameters}{Run\+Parameters}} $\ast$parameters)
\item 
\mbox{\hyperlink{CMakeCache_8txt_a1cb0c2afe2f6ed3001e79e875440ed60}{int}} \mbox{\hyperlink{SPUCoreHelpers_8cpp_a6453a5d405d0626203f8933eefc6948f}{parse\+S\+P\+U\+Args}} (\mbox{\hyperlink{SPUDtypes_8hpp_structRunParameters}{Run\+Parameters}} $\ast$parameters, \mbox{\hyperlink{CMakeCache_8txt_a1cb0c2afe2f6ed3001e79e875440ed60}{int}} argc, const \mbox{\hyperlink{CMakeCache_8txt_afe71f11dacb15682cdc012f7208e6e09}{char}} $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
void \mbox{\hyperlink{SPUCoreHelpers_8cpp_ac7a309a014bd981682f3e640d670050b}{spu\+Help}} ()
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{SPUCoreHelpers_8cpp_aaad251afe9f24c4d0160d66b4011d64d}\label{SPUCoreHelpers_8cpp_aaad251afe9f24c4d0160d66b4011d64d}} 
\index{SPUCoreHelpers.cpp@{SPUCoreHelpers.cpp}!DestructSPUArgs@{DestructSPUArgs}}
\index{DestructSPUArgs@{DestructSPUArgs}!SPUCoreHelpers.cpp@{SPUCoreHelpers.cpp}}
\doxysubsubsection{\texorpdfstring{DestructSPUArgs()}{DestructSPUArgs()}}
{\footnotesize\ttfamily void Destruct\+S\+P\+U\+Args (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{SPUDtypes_8hpp_structRunParameters}{Run\+Parameters}} $\ast$}]{parameters }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{89                                                 \{}
\DoxyCodeLine{90     fclose(parameters-\/>\mbox{\hyperlink{SPUDtypes_8hpp_a2af4e09a5ada13ad50069b8dbf89efd6}{inputFile}});}
\DoxyCodeLine{91     fclose(parameters-\/>\mbox{\hyperlink{SPUDtypes_8hpp_a2f52d85470f1a16f8e836db4e7dfcda0}{outputFile}});}
\DoxyCodeLine{92 \}}

\end{DoxyCode}


References Run\+Parameters\+::input\+File, and Run\+Parameters\+::output\+File.



Referenced by main().

Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=249pt]{SPUCoreHelpers_8cpp_aaad251afe9f24c4d0160d66b4011d64d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{SPUCoreHelpers_8cpp_a6453a5d405d0626203f8933eefc6948f}\label{SPUCoreHelpers_8cpp_a6453a5d405d0626203f8933eefc6948f}} 
\index{SPUCoreHelpers.cpp@{SPUCoreHelpers.cpp}!parseSPUArgs@{parseSPUArgs}}
\index{parseSPUArgs@{parseSPUArgs}!SPUCoreHelpers.cpp@{SPUCoreHelpers.cpp}}
\doxysubsubsection{\texorpdfstring{parseSPUArgs()}{parseSPUArgs()}}
{\footnotesize\ttfamily \mbox{\hyperlink{CMakeCache_8txt_a1cb0c2afe2f6ed3001e79e875440ed60}{int}} parse\+S\+P\+U\+Args (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{SPUDtypes_8hpp_structRunParameters}{Run\+Parameters}} $\ast$}]{parameters,  }\item[{\mbox{\hyperlink{CMakeCache_8txt_a1cb0c2afe2f6ed3001e79e875440ed60}{int}}}]{argc,  }\item[{const \mbox{\hyperlink{CMakeCache_8txt_afe71f11dacb15682cdc012f7208e6e09}{char}} $\ast$}]{argv\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{12                                                                            \{}
\DoxyCodeLine{13     \mbox{\hyperlink{SPUDtypes_8hpp_structRunParameters}{RunParameters}} newParams = \{0, \textcolor{keyword}{nullptr}, \textcolor{keyword}{nullptr}, \textcolor{keyword}{nullptr}, \textcolor{keyword}{nullptr}\};}
\DoxyCodeLine{14     }
\DoxyCodeLine{15     \textcolor{keywordflow}{if} (argc <= 1)\{}
\DoxyCodeLine{16         \mbox{\hyperlink{SPUCoreHelpers_8cpp_ac7a309a014bd981682f3e640d670050b}{spuHelp}}();}
\DoxyCodeLine{17         \textcolor{keywordflow}{return} EXIT\_FAILURE;}
\DoxyCodeLine{18     \}}
\DoxyCodeLine{19     }
\DoxyCodeLine{20     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} \mbox{\hyperlink{CMakeCache_8txt_a7e98b8a17c0aad30ba64d47b74e2a6c1}{i}} = 1; \mbox{\hyperlink{CMakeCache_8txt_a7e98b8a17c0aad30ba64d47b74e2a6c1}{i}} < argc; \mbox{\hyperlink{CMakeCache_8txt_a7e98b8a17c0aad30ba64d47b74e2a6c1}{i}}++) \{}
\DoxyCodeLine{21         \textcolor{keywordflow}{if} (strcmp(argv[\mbox{\hyperlink{CMakeCache_8txt_a7e98b8a17c0aad30ba64d47b74e2a6c1}{i}}], \textcolor{stringliteral}{"{}-\/-\/input"{}}) == 0) \{}
\DoxyCodeLine{22             \textcolor{keywordflow}{if} (\mbox{\hyperlink{CMakeCache_8txt_a7e98b8a17c0aad30ba64d47b74e2a6c1}{i}} + 1 > argc)\{}
\DoxyCodeLine{23                 printf(\textcolor{stringliteral}{"{}error: spu: No input file specified after -\/-\/input\(\backslash\)n"{}});}
\DoxyCodeLine{24                 \textcolor{keywordflow}{return} EXIT\_FAILURE;}
\DoxyCodeLine{25             \}}
\DoxyCodeLine{26             FILE* inputFile = fopen(argv[\mbox{\hyperlink{CMakeCache_8txt_a7e98b8a17c0aad30ba64d47b74e2a6c1}{i}} + 1], \textcolor{stringliteral}{"{}rb"{}});}
\DoxyCodeLine{27             newParams.\mbox{\hyperlink{SPUDtypes_8hpp_a2af4e09a5ada13ad50069b8dbf89efd6}{inputFile}} = inputFile;}
\DoxyCodeLine{28             newParams.\mbox{\hyperlink{SPUDtypes_8hpp_ac75aca7c0a7abd09ad0f8a1d0c1f34be}{inputFileName}} = *(argv + \mbox{\hyperlink{CMakeCache_8txt_a7e98b8a17c0aad30ba64d47b74e2a6c1}{i}} + 1);}
\DoxyCodeLine{29             \textcolor{keywordflow}{if} (newParams.\mbox{\hyperlink{SPUDtypes_8hpp_a2af4e09a5ada13ad50069b8dbf89efd6}{inputFile}} == \textcolor{keyword}{nullptr})\{}
\DoxyCodeLine{30                 printf(\textcolor{stringliteral}{"{}error: spu: Can't open input file\(\backslash\)n"{}});}
\DoxyCodeLine{31                 \textcolor{keywordflow}{return} EXIT\_FAILURE;}
\DoxyCodeLine{32             \}}
\DoxyCodeLine{33             \mbox{\hyperlink{CMakeCache_8txt_a7e98b8a17c0aad30ba64d47b74e2a6c1}{i}}++;}
\DoxyCodeLine{34         \}\textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strcmp(argv[\mbox{\hyperlink{CMakeCache_8txt_a7e98b8a17c0aad30ba64d47b74e2a6c1}{i}}], \textcolor{stringliteral}{"{}-\/-\/output"{}}) == 0) \{}
\DoxyCodeLine{35             \textcolor{keywordflow}{if} (\mbox{\hyperlink{CMakeCache_8txt_a7e98b8a17c0aad30ba64d47b74e2a6c1}{i}} + 1 > argc)\{}
\DoxyCodeLine{36                 printf(\textcolor{stringliteral}{"{}error: spu: No output file specified after -\/-\/output\(\backslash\)n"{}});}
\DoxyCodeLine{37                 \textcolor{keywordflow}{return} EXIT\_FAILURE;}
\DoxyCodeLine{38             \}}
\DoxyCodeLine{39             FILE* outputFile = fopen(argv[\mbox{\hyperlink{CMakeCache_8txt_a7e98b8a17c0aad30ba64d47b74e2a6c1}{i}} + 1], \textcolor{stringliteral}{"{}wb"{}});}
\DoxyCodeLine{40             newParams.\mbox{\hyperlink{SPUDtypes_8hpp_a2f52d85470f1a16f8e836db4e7dfcda0}{outputFile}} = outputFile;}
\DoxyCodeLine{41             newParams.\mbox{\hyperlink{SPUDtypes_8hpp_abab18039b4e5acf3efc51a8a76d6b07a}{outputFileName}} = *(argv + \mbox{\hyperlink{CMakeCache_8txt_a7e98b8a17c0aad30ba64d47b74e2a6c1}{i}} + 1);}
\DoxyCodeLine{42             \mbox{\hyperlink{CMakeCache_8txt_a7e98b8a17c0aad30ba64d47b74e2a6c1}{i}}++;}
\DoxyCodeLine{43         \}\textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strcmp(argv[\mbox{\hyperlink{CMakeCache_8txt_a7e98b8a17c0aad30ba64d47b74e2a6c1}{i}}], \textcolor{stringliteral}{"{}-\/-\/verbose"{}}) == 0) \{}
\DoxyCodeLine{44             newParams.\mbox{\hyperlink{SPUDtypes_8hpp_abe26a421f31a88df230b81e8cc4e087a}{verbose}} = 1;}
\DoxyCodeLine{45         \}\textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strcmp(argv[\mbox{\hyperlink{CMakeCache_8txt_a7e98b8a17c0aad30ba64d47b74e2a6c1}{i}}], \textcolor{stringliteral}{"{}-\/-\/help"{}}) == 0 || strcmp(argv[\mbox{\hyperlink{CMakeCache_8txt_a7e98b8a17c0aad30ba64d47b74e2a6c1}{i}}], \textcolor{stringliteral}{"{}-\/h"{}}) == 0) \{}
\DoxyCodeLine{46             \mbox{\hyperlink{SPUCoreHelpers_8cpp_ac7a309a014bd981682f3e640d670050b}{spuHelp}}();}
\DoxyCodeLine{47         \}\textcolor{keywordflow}{else} \{}
\DoxyCodeLine{48             \textcolor{keywordflow}{if} (newParams.\mbox{\hyperlink{SPUDtypes_8hpp_a2af4e09a5ada13ad50069b8dbf89efd6}{inputFile}} == \textcolor{keyword}{nullptr})\{}
\DoxyCodeLine{49                 FILE* inputFile = fopen(argv[\mbox{\hyperlink{CMakeCache_8txt_a7e98b8a17c0aad30ba64d47b74e2a6c1}{i}}], \textcolor{stringliteral}{"{}rb"{}});}
\DoxyCodeLine{50                 newParams.\mbox{\hyperlink{SPUDtypes_8hpp_a2af4e09a5ada13ad50069b8dbf89efd6}{inputFile}} = inputFile;}
\DoxyCodeLine{51                 newParams.\mbox{\hyperlink{SPUDtypes_8hpp_ac75aca7c0a7abd09ad0f8a1d0c1f34be}{inputFileName}} = *(argv + \mbox{\hyperlink{CMakeCache_8txt_a7e98b8a17c0aad30ba64d47b74e2a6c1}{i}});}
\DoxyCodeLine{52                 \textcolor{keywordflow}{if} (newParams.\mbox{\hyperlink{SPUDtypes_8hpp_a2af4e09a5ada13ad50069b8dbf89efd6}{inputFile}} == \textcolor{keyword}{nullptr})\{}
\DoxyCodeLine{53                     printf(\textcolor{stringliteral}{"{}error: spu: Can't open input file \%s\(\backslash\)n"{}}, argv[\mbox{\hyperlink{CMakeCache_8txt_a7e98b8a17c0aad30ba64d47b74e2a6c1}{i}}]);}
\DoxyCodeLine{54                     \textcolor{keywordflow}{return} EXIT\_FAILURE;}
\DoxyCodeLine{55                 \}}
\DoxyCodeLine{56             \}}
\DoxyCodeLine{57         \}}
\DoxyCodeLine{58     \}}
\DoxyCodeLine{59     }
\DoxyCodeLine{60     \textcolor{keywordflow}{if} (newParams.\mbox{\hyperlink{SPUDtypes_8hpp_a2af4e09a5ada13ad50069b8dbf89efd6}{inputFile}} == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{61         printf(\textcolor{stringliteral}{"{}error: spu: No input file specified\(\backslash\)n"{}});}
\DoxyCodeLine{62         \textcolor{keywordflow}{return} EXIT\_FAILURE;}
\DoxyCodeLine{63     \}}
\DoxyCodeLine{64     }
\DoxyCodeLine{65     \textcolor{keywordflow}{if} (newParams.\mbox{\hyperlink{SPUDtypes_8hpp_a2f52d85470f1a16f8e836db4e7dfcda0}{outputFile}} == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{66         newParams.\mbox{\hyperlink{SPUDtypes_8hpp_a2f52d85470f1a16f8e836db4e7dfcda0}{outputFile}} = stdout;}
\DoxyCodeLine{67         newParams.\mbox{\hyperlink{SPUDtypes_8hpp_abab18039b4e5acf3efc51a8a76d6b07a}{outputFileName}} = \textcolor{stringliteral}{"{}stdout"{}};}
\DoxyCodeLine{68     \}}
\DoxyCodeLine{69     }
\DoxyCodeLine{70     *parameters = newParams;}
\DoxyCodeLine{71     \textcolor{keywordflow}{return} EXIT\_SUCCESS;}
\DoxyCodeLine{72 \}}

\end{DoxyCode}


References i, Run\+Parameters\+::input\+File, Run\+Parameters\+::input\+File\+Name, Run\+Parameters\+::output\+File, Run\+Parameters\+::output\+File\+Name, spu\+Help(), and Run\+Parameters\+::verbose.



Referenced by main().

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=251pt]{SPUCoreHelpers_8cpp_a6453a5d405d0626203f8933eefc6948f_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=236pt]{SPUCoreHelpers_8cpp_a6453a5d405d0626203f8933eefc6948f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{SPUCoreHelpers_8cpp_ac7a309a014bd981682f3e640d670050b}\label{SPUCoreHelpers_8cpp_ac7a309a014bd981682f3e640d670050b}} 
\index{SPUCoreHelpers.cpp@{SPUCoreHelpers.cpp}!spuHelp@{spuHelp}}
\index{spuHelp@{spuHelp}!SPUCoreHelpers.cpp@{SPUCoreHelpers.cpp}}
\doxysubsubsection{\texorpdfstring{spuHelp()}{spuHelp()}}
{\footnotesize\ttfamily void spu\+Help (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{74                \{}
\DoxyCodeLine{75     \textcolor{keywordtype}{int} SPUAssemblyVersion = \mbox{\hyperlink{SPUVersion_8hpp_a46cfa984fce0310cc64459db66aba985}{SPU\_VERSION}};}
\DoxyCodeLine{76     \textcolor{keywordtype}{char}* SPUAssemblyVersion\_chars = (\textcolor{keywordtype}{char}*)\&SPUAssemblyVersion;}
\DoxyCodeLine{77     printf(\textcolor{stringliteral}{"{}SPU v\%c.\%c.\%c\%c help\(\backslash\)n"{}}}
\DoxyCodeLine{78            \textcolor{stringliteral}{"{}-\/-\/input     <input file> input file to be assembled .spub format (spu binary)\(\backslash\)n"{}}}
\DoxyCodeLine{79            \textcolor{stringliteral}{"{}-\/-\/output    <output file> output file stdout by default\(\backslash\)n"{}}}
\DoxyCodeLine{80            \textcolor{stringliteral}{"{}-\/h, -\/-\/help  show this help message\(\backslash\)n"{}}}
\DoxyCodeLine{81            \textcolor{stringliteral}{"{}-\/-\/verbose   output debug information to the console\(\backslash\)n"{}}}
\DoxyCodeLine{82            \textcolor{stringliteral}{"{}\(\backslash\)n"{}},}
\DoxyCodeLine{83            SPUAssemblyVersion\_chars[0],}
\DoxyCodeLine{84            SPUAssemblyVersion\_chars[1],}
\DoxyCodeLine{85            SPUAssemblyVersion\_chars[2],}
\DoxyCodeLine{86            SPUAssemblyVersion\_chars[3]);}
\DoxyCodeLine{87 \}}

\end{DoxyCode}


References S\+P\+U\+\_\+\+V\+E\+R\+S\+I\+ON.



Referenced by parse\+S\+P\+U\+Args().

Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=325pt]{SPUCoreHelpers_8cpp_ac7a309a014bd981682f3e640d670050b_icgraph}
\end{center}
\end{figure}
